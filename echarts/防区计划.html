<!DOCTYPE html>
<html style="height: 100%; width: 100%">
  <head>
    <meta charset="utf-8" />
  </head>
  <body style="height: 100%; width: 100%">
    <div id="chart-panel" style="height: 100%; width: 100%"></div>
    <script
      type="text/javascript"
      src="https://fastly.jsdelivr.net/npm/echarts@5.2.2/dist/echarts.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"
    ></script>

    <script type="text/javascript">
      var dom = document.getElementById("chart-panel");
      var myChart = echarts.init(dom);
      var option;
      var app = {};
      function formatNumber(value, fractions = 0) {
        const numberFormatter = new Intl.NumberFormat(undefined, {
          minimumFractionDigits: fractions,
          maximumFractionDigits: fractions,
        });
        return numberFormatter.format(value);
      }

      option = {
        title: {
          left: "center",
          top: "10px",
          text: "飞书office ARR",
          textStyle: {
            fontSize: 14,
            color: "rgba(0, 0, 0, 0.85)",
            fontWeight: "bold",
          },
        },
        tooltip: {
          trigger: "axis",
          axisPointer: {
            type: "shadow",
          },
        },
        grid: {
          left: "3%",
          right: "4%",
          bottom: "3%",
          containLabel: true,
        },
        yAxis: {
          type: "category",
          splitLine: {
            show: false,
          },
          data: [
            "星期一",
            "星期",
            "3&4\n双月",
            "5&6\n双月",
            "7&8\n双月",
            "9&10\n双月",
            "11&12\n双月",
            "总计",
          ],
          axisLabel: {
            interval: 0,
          },
        },
        xAxis: {
          name: "ARR: 单位(万元)",
          type: "value",
        },
        series: [
          {
            name: "Placeholder",
            type: "bar",
            barWidth: 40,
            stack: "Total",
            itemStyle: {
              borderColor: "transparent",
              color: "transparent",
            },
            emphasis: {
              itemStyle: {
                borderColor: "transparent",
                color: "transparent",
              },
            },
            data: [0, 1000, 2000, 3000, 4500, 6800, 11300, 0],
          },
          {
            name: "ARR金额",
            type: "bar",
            barWidth: 40,
            stack: "Total",
            label: {
              show: true,
              position: "top",
              formatter: (params) => formatNumber(params.value),
            },
            data: [1000, 1000, 1000, 1500, 2300, 4500, 6500, 17800],
          },
        ],
        animation: false,
      };

      if (option && typeof option === "object") {
        myChart.setOption(option);
      }
    </script>
  </body>
</html>
